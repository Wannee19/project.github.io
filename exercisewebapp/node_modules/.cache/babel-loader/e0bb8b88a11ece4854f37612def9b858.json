{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/user/Desktop/wannee19.github.io/jsd-jamming-assessment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/Desktop/wannee19.github.io/jsd-jamming-assessment/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Desktop\\\\wannee19.github.io\\\\jsd-jamming-assessment\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/* eslint-disable jsx-a11y/anchor-is-valid */import React,{useState,useEffect}from\"react\";import\"./SearchBar.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchBar(props){var initialSearchTerm=function initialSearchTerm(){return String(window.localStorage.getItem(\"searchTerm\")||\"\");};var _useState=useState(initialSearchTerm),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];useEffect(function(){window.localStorage.setItem(\"searchTerm\",searchTerm);},[searchTerm]);function handleSearch(){return _handleSearch.apply(this,arguments);}function _handleSearch(){_handleSearch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var clientId,currentUrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return props.searchSpotify(searchTerm);case 3:_context.next=11;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.warn(_context.t0);clientId=\"af4094bc06e540edbc82403be27a055c\";currentUrl=window.location.href;window.location.href=\"https://accounts.spotify.com/authorize?client_id=\".concat(clientId,\"&response_type=token&scope=playlist-modify-public&redirect_uri=\").concat(currentUrl);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return _handleSearch.apply(this,arguments);}function handleKeyPress(_x){return _handleKeyPress.apply(this,arguments);}function _handleKeyPress(){_handleKeyPress=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(e.key===\"Enter\")){_context2.next=3;break;}_context2.next=3;return handleSearch();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleKeyPress.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"SearchBar\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSearchTerm(e.target.value);},onKeyPress:handleKeyPress,placeholder:\"Enter A Song Title\",value:searchTerm}),\" \",/*#__PURE__*/_jsx(\"a\",{onClick:handleSearch,children:\" SEARCH \"}),\" \"]});}export default SearchBar;","map":{"version":3,"sources":["C:/Users/user/Desktop/wannee19.github.io/jsd-jamming-assessment/src/components/SearchBar/SearchBar.js"],"names":["React","useState","useEffect","SearchBar","props","initialSearchTerm","String","window","localStorage","getItem","searchTerm","setSearchTerm","setItem","handleSearch","searchSpotify","console","warn","clientId","currentUrl","location","href","handleKeyPress","e","key","target","value"],"mappings":"4cAAA,6CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,iBAAP,C,wFAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACxB,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,SACxBC,CAAAA,MAAM,CAACC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,GAA6C,EAA9C,CADkB,EAA1B,CAEA,cAAoCR,QAAQ,CAACI,iBAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eAEAT,SAAS,CAAC,UAAM,CACdK,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,YAA5B,CAA0CF,UAA1C,EACD,CAFQ,CAEN,CAACA,UAAD,CAFM,CAAT,CALwB,QASTG,CAAAA,YATS,8IASxB,iMAEUT,CAAAA,KAAK,CAACU,aAAN,CAAoBJ,UAApB,CAFV,uFAIIK,OAAO,CAACC,IAAR,cACMC,QALV,CAKqB,kCALrB,CAMUC,UANV,CAMuBX,MAAM,CAACY,QAAP,CAAgBC,IANvC,CAOIb,MAAM,CAACY,QAAP,CAAgBC,IAAhB,4DAA2EH,QAA3E,2EAAqJC,UAArJ,EAPJ,oEATwB,uDAoBTG,CAAAA,cApBS,sJAoBxB,kBAA8BC,CAA9B,2HACMA,CAAC,CAACC,GAAF,GAAU,OADhB,kDAEUV,CAAAA,YAAY,EAFtB,yDApBwB,iDA0BxB,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,cACE,QAAQ,CAAE,kBAACS,CAAD,QAAOX,CAAAA,aAAa,CAACW,CAAC,CAACE,MAAF,CAASC,KAAV,CAApB,EADZ,CAEE,UAAU,CAAEJ,cAFd,CAGE,WAAW,CAAC,oBAHd,CAIE,KAAK,CAAEX,UAJT,EADF,CAMK,GANL,cAOE,UAAG,OAAO,CAAEG,YAAZ,sBAPF,CAOyC,GAPzC,GADF,CAWD,CAED,cAAeV,CAAAA,SAAf","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./SearchBar.css\";\r\n\r\nfunction SearchBar(props) {\r\n  const initialSearchTerm = () =>\r\n    String(window.localStorage.getItem(\"searchTerm\") || \"\");\r\n  const [searchTerm, setSearchTerm] = useState(initialSearchTerm);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"searchTerm\", searchTerm);\r\n  }, [searchTerm]);\r\n\r\n  async function handleSearch() {\r\n    try {\r\n      await props.searchSpotify(searchTerm);\r\n    } catch (error) {\r\n      console.warn(error);\r\n      const clientId = \"af4094bc06e540edbc82403be27a055c\";\r\n      const currentUrl = window.location.href;\r\n      window.location.href = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&scope=playlist-modify-public&redirect_uri=${currentUrl}`;\r\n    }\r\n  }\r\n\r\n  async function handleKeyPress(e) {\r\n    if (e.key === \"Enter\") {\r\n      await handleSearch();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"SearchBar\">\r\n      <input\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        onKeyPress={handleKeyPress}\r\n        placeholder=\"Enter A Song Title\"\r\n        value={searchTerm}\r\n      />{\" \"}\r\n      <a onClick={handleSearch}> SEARCH </a>{\" \"}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n"]},"metadata":{},"sourceType":"module"}